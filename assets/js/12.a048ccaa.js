(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{294:function(a,t,s){"use strict";s.r(t);var n=s(12),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"springboot框架解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot框架解析"}},[a._v("#")]),a._v(" Springboot框架解析")]),a._v(" "),t("blockquote",[t("p",[a._v("参考资料："),t("a",{attrs:{href:"https://www.jianshu.com/p/b934b0d72602",target:"_blank",rel:"noopener noreferrer"}},[a._v("entity,bo,vo,po,dto,pojo如何理解和区分"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"_1、对象及分层概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、对象及分层概念"}},[a._v("#")]),a._v(" 1、对象及分层概念")]),a._v(" "),t("ul",[t("li",[a._v("Entity：最常用的实体类，基本和数据表一一对应，一个实体一张表")]),a._v(" "),t("li",[a._v("Bo：business object，业务对象，将业务逻辑封装为一个对象，通过调用dao方法，结合po或vo进行业务操作。")]),a._v(" "),t("li",[a._v("Vo：value object，值对象，用于业务层之间传递数据，由new创建，gc回收,主要体现在视图的对象，对于一个WEB页面将整个页面的属性封装成一个对象，然后用一个VO对象在控制层与视图层进行传输交换。")]),a._v(" "),t("li",[a._v("Po：persistant object，持久层对象，对应数据库中表的字段，一个Po对应数据库中的一条记录")]),a._v(" "),t("li",[a._v("Dto：data transfer object，数据传输对象，接口间传递的数据封装")]),a._v(" "),t("li",[a._v("Pojo：plian ordinary java object，简单无规则java对象，最基本的Java Bean只有属性加上get和set方法，可以转换为Po，Dto，Vo")]),a._v(" "),t("li",[a._v("Dao：data access object，数据访问对象，负责持久层的操作，主要用来封装数据的访问，注意不是对数据库的访问")]),a._v(" "),t("li",[a._v("Controller：控制层，业务层与视图层打交道的中间层，负责传输vo对象和调用bo对象，负责视图层请求的数据处理后响应给视图层。")]),a._v(" "),t("li",[a._v("View：视图层，由静态资源、jsp等文件形成")]),a._v(" "),t("li",[a._v("Assembler：组装类，对象转换")])]),a._v(" "),t("p",[a._v("相关思想：")]),a._v(" "),t("ul",[t("li",[a._v("依赖倒置：不为基础层依赖领域层，是基础层和领域层互相不依赖，而是共同依赖一组抽象接口")]),a._v(" "),t("li",[t("a",{attrs:{href:"https://www.infoq.cn/article/alibaba-freshhema-ddd-practice",target:"_blank",rel:"noopener noreferrer"}},[a._v("DDD思想及充血和贫血模式"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"_2、spring-mvc-controller接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、spring-mvc-controller接口"}},[a._v("#")]),a._v(" 2、spring mvc：controller接口")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("src"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("main"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" java"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("icbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hz1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("inforisk"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("rule\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" common"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RuleConstant")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java   \t\t\t\t\t\t\t "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//常量定义")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" controller："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleController")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//controller接口定义，调用service接口   ")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" vo："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleQueryVo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleDetailDto")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//controller接口输入输出类")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" service："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleServiceImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//服务接口和实现类")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" dao："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkRuleDao")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkRuleDaoImpl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//数据访问接口")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" mapper："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkctlRuleMapper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java、"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkctlRuleMapper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("xml  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//数据接入层")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" entity："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkctlRule")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//数据表对应的实体类")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" java"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("icbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hz1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("inforisk"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//启动类")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" resources  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//静态资源及相关配置")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" config：ssic"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("pub\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v("："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("F5Check")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("html   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//静态资源")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("properties "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//工程配置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("src"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" java"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("icbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("hz1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("inforisk"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("rule   \t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//单元测试类，接口实现类")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" controller："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleControllerTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java    \n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" dao："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkRuleDaoImplTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" service："),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("LinkCtlRuleServiceImplTest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("java\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br")])]),t("h3",{attrs:{id:"_1、controller"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、controller"}},[a._v("#")]),a._v(" 1、controller")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("@RestController")])]),a._v(" "),t("li",[t("p",[a._v("@ApiVersion(1)")])]),a._v(" "),t("li",[t("p",[a._v('@Api(value="xxx", produces="application/json")')])]),a._v(" "),t("li",[t("p",[a._v('@RequestMapping(value="/linkctl/rule")')])]),a._v(" "),t("li",[t("p",[a._v('@ApiOperation(value="xxx")')])]),a._v(" "),t("li",[t("p",[a._v('@PostMapping(value="/delete")@GetMapping(value="/getInfos")')])]),a._v(" "),t("li",[t("p",[a._v("@RequestBody、@RequestParam(required = false)")])]),a._v(" "),t("li",[t("p",[a._v("@Validated")])])]),a._v(" "),t("h3",{attrs:{id:"_2、dao"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、dao"}},[a._v("#")]),a._v(" 2、dao")]),a._v(" "),t("ul",[t("li",[a._v("@UsingDataSource(DataSources.GCMS_GMIS)")])]),a._v(" "),t("h3",{attrs:{id:"_3、entity"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、entity"}},[a._v("#")]),a._v(" 3、entity")]),a._v(" "),t("ul",[t("li",[a._v('@Table(name="GMIS.AFW_MAG")')]),a._v(" "),t("li",[a._v("@Id")]),a._v(" "),t("li",[a._v('@Column(name="AREA_CODE")')]),a._v(" "),t("li",[a._v("@PostConstruct")])]),a._v(" "),t("h3",{attrs:{id:"_4、vo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、vo"}},[a._v("#")]),a._v(" 4、vo")]),a._v(" "),t("ul",[t("li",[a._v('@ApiModel(value="xxx", description="xxx")')])]),a._v(" "),t("h3",{attrs:{id:"_6、启动类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、启动类"}},[a._v("#")]),a._v(" 6、启动类")]),a._v(" "),t("ul",[t("li",[a._v('@SpringBootApplication(scanBasePackages={"com.icbc.hz1.inforisk"})')]),a._v(" "),t("li",[a._v('@EnableMultipleDataSource(dataSourceName={"DataSources.GCMS_GMAG"}, defaultName="xxx", databaseType="xxx")')]),a._v(" "),t("li",[a._v('@MapperScan(basePackages={"xxxx"}, sqlSessionFactoryRef="xx",configs={})')])]),a._v(" "),t("h3",{attrs:{id:"_7、测试类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、测试类"}},[a._v("#")]),a._v(" 7、测试类")]),a._v(" "),t("ul",[t("li",[a._v("@RunWith(MockitoJUnitRunner.class)")]),a._v(" "),t("li",[a._v("@InjectMocks")]),a._v(" "),t("li",[a._v("@Mock")]),a._v(" "),t("li",[a._v("@Test")]),a._v(" "),t("li",[a._v("@Before")])]),a._v(" "),t("h3",{attrs:{id:"_9、配置类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9、配置类"}},[a._v("#")]),a._v(" 9、配置类")]),a._v(" "),t("ul",[t("li",[a._v("@Configuration")]),a._v(" "),t("li",[a._v("@AutoConfigureBefore({xxxxx.class})")]),a._v(" "),t("li",[a._v("@Bean")]),a._v(" "),t("li",[a._v("@ConditionalOnProperty")]),a._v(" "),t("li",[a._v("@Value(\"# { @environment['shire.sso.maxSession'] ?: 1}\")")])]),a._v(" "),t("h2",{attrs:{id:"_3、常用注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、常用注解"}},[a._v("#")]),a._v(" 3、常用注解")]),a._v(" "),t("h3",{attrs:{id:"_1、注解相关操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、注解相关操作"}},[a._v("#")]),a._v(" 1、注解相关操作")]),a._v(" "),t("ul",[t("li",[a._v("@Target：注解作用域，TYPE可用于类或接口上，METHOD表示修饰方法")]),a._v(" "),t("li",[a._v("@Retention：注解生命周期")]),a._v(" "),t("li",[a._v("@Documented：注解被javadoc工具记录")]),a._v(" "),t("li",[a._v("@Import：通过导入方式实现把实例加入springIOC容器中")]),a._v(" "),t("li",[a._v("@Interface：注解类定义，jdk1.5后引入")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Target")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ElementType")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("TYPE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//注解作用域：类或接口")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Retention")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RetentionPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("RUNTIME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//保留在运行时")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Documented")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("RuleEngineConfiguration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EnableRuleEngine")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"_2、配置类相关操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置类相关操作"}},[a._v("#")]),a._v(" 2、配置类相关操作")]),a._v(" "),t("ul",[t("li",[a._v("@Configuration：定义配置类，内部包含有被@Bean注解的方法，这些方法被ApplicationContext上下文类进行扫描，并构建对于的bean，加入spring容器中")]),a._v(" "),t("li",[a._v("@Bean：方法级注解，产生一个Bean对象。initMethod属性和destoryMethod属性，指定Bean在构造之后和销毁之前需要执行的方法名。获取使用注解：\n"),t("ul",[t("li",[a._v("@PostConstruct：构造函数执行完之后执行")]),a._v(" "),t("li",[a._v("@PreDestroy：bean销毁前执行")])])]),a._v(" "),t("li",[a._v("@scope：实例范围\n"),t("ul",[t("li",[a._v("Singleton：单例")]),a._v(" "),t("li",[a._v("Prototype：每次调用新建一个Bean的实例")]),a._v(" "),t("li",[a._v("Request：Web项目中，给每一个http request新建一个Bean实例")]),a._v(" "),t("li",[a._v("Session：web项目中，给每一个http session新建一个Bean实例")])])]),a._v(" "),t("li",[a._v("@lazy：懒加载，默认在容器启动的时候创建对象，修改为第一个使用时创建对象并实例化")]),a._v(" "),t("li",[a._v('@profile("development")：标记不同的配置环境，通常应用于不同环境启动')]),a._v(" "),t("li",[a._v("@Conditional：满足条件给容器注册bean")])]),a._v(" "),t("h3",{attrs:{id:"_3、依赖注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、依赖注入"}},[a._v("#")]),a._v(" 3、依赖注入")]),a._v(" "),t("h4",{attrs:{id:"_1、注解声明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、注解声明"}},[a._v("#")]),a._v(" 1、注解声明")]),a._v(" "),t("ul",[t("li",[a._v("@Component：组件，没有明确的角色")]),a._v(" "),t("li",[a._v('@Service：业务逻辑层使用，生成bean时规则，第一个变小写，两个字母都大写则会都变为小写，使用@Service("xx")重定义类名字')]),a._v(" "),t("li",[a._v("@Repository：在数据访问层DAO层使用")]),a._v(" "),t("li",[a._v("@Controller：在展现层MVC使用")])]),a._v(" "),t("h4",{attrs:{id:"_2、注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、注入"}},[a._v("#")]),a._v(" 2、注入")]),a._v(" "),t("ul",[t("li",[a._v("@Autowired：Spring提供的注解。类型、限定符、命名匹配，配合@Qualifier注解，指令beanName")]),a._v(" "),t("li",[a._v("@Inject：JSR-330提供的注解。类型、限定符、命名匹配，配合@Named注解，指定beanName")]),a._v(" "),t("li",[a._v("@Resource：JSR-250提供的注解。命名、类型、限定符匹配")])]),a._v(" "),t("p",[a._v("解析：@Autowired、@Inject、@Resource可注解在set方法上或者属性上，从代码清晰度考虑，建议注解在属性")]),a._v(" "),t("h4",{attrs:{id:"_3、扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、扩展"}},[a._v("#")]),a._v(" 3、扩展")]),a._v(" "),t("p",[a._v("BeanPostProcessor定义了两个接口：")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeanPostProcessor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//前置处理：bean初始化方法调用前被调用")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("postProcessBeforeInitialization")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" bean"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeansException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//后置处理：bean初始化方法调用后被调用")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("postProcessAfterInitialization")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Object")]),a._v(" bean"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" beanName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BeansException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"_4、内置注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、内置注解"}},[a._v("#")]),a._v(" 4、内置注解")]),a._v(" "),t("ul",[t("li",[a._v("@Override：重写方法")]),a._v(" "),t("li",[a._v("@Deprecated：过时的，已经被新的形式取代")]),a._v(" "),t("li",[a._v("@FuntionalInterface：用于接口，被注解的接口是一个函数式接口，仅包含一个抽象方法的接口，有lambda表达式使用，非函数式接口报错")]),a._v(" "),t("li",[a._v("@SuppressWarning：抑制编译器可能的警告")])])])}),[],!1,null,null,null);t.default=e.exports}}]);