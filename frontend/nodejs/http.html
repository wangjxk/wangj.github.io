<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nodejs网络及部署 | Jian‘s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/jian_x48.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/jian_x192.png">
    <meta name="description" content="每天进步一点点">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/jian_x192.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.19232fe9.css" as="style"><link rel="preload" href="/assets/js/app.9e441e61.js" as="script"><link rel="preload" href="/assets/js/2.36bde0fd.js" as="script"><link rel="preload" href="/assets/js/42.867935ca.js" as="script"><link rel="preload" href="/assets/js/3.5a07e503.js" as="script"><link rel="prefetch" href="/assets/js/10.bc82d67b.js"><link rel="prefetch" href="/assets/js/11.ead9b8ca.js"><link rel="prefetch" href="/assets/js/12.a048ccaa.js"><link rel="prefetch" href="/assets/js/13.3e4cc077.js"><link rel="prefetch" href="/assets/js/14.58cd0fa5.js"><link rel="prefetch" href="/assets/js/15.98e26beb.js"><link rel="prefetch" href="/assets/js/16.4cf1daea.js"><link rel="prefetch" href="/assets/js/17.c190a7fe.js"><link rel="prefetch" href="/assets/js/18.89814285.js"><link rel="prefetch" href="/assets/js/19.77f58842.js"><link rel="prefetch" href="/assets/js/20.9920ac2c.js"><link rel="prefetch" href="/assets/js/21.6a8c9cfe.js"><link rel="prefetch" href="/assets/js/22.cfd89a61.js"><link rel="prefetch" href="/assets/js/23.48f5d9f7.js"><link rel="prefetch" href="/assets/js/24.a8c5ac10.js"><link rel="prefetch" href="/assets/js/25.842b3853.js"><link rel="prefetch" href="/assets/js/26.9c5fe1dd.js"><link rel="prefetch" href="/assets/js/27.c4f0a52b.js"><link rel="prefetch" href="/assets/js/28.ce11023f.js"><link rel="prefetch" href="/assets/js/29.9001ac2f.js"><link rel="prefetch" href="/assets/js/30.5edf0dc1.js"><link rel="prefetch" href="/assets/js/31.57d2aeed.js"><link rel="prefetch" href="/assets/js/32.db6f674e.js"><link rel="prefetch" href="/assets/js/33.038cad31.js"><link rel="prefetch" href="/assets/js/34.bff4a907.js"><link rel="prefetch" href="/assets/js/35.e9272942.js"><link rel="prefetch" href="/assets/js/36.896895d7.js"><link rel="prefetch" href="/assets/js/37.91a5bb8c.js"><link rel="prefetch" href="/assets/js/38.3f6a6f29.js"><link rel="prefetch" href="/assets/js/39.270d8c27.js"><link rel="prefetch" href="/assets/js/4.0800d99b.js"><link rel="prefetch" href="/assets/js/40.b379e318.js"><link rel="prefetch" href="/assets/js/41.f3073d82.js"><link rel="prefetch" href="/assets/js/43.30335621.js"><link rel="prefetch" href="/assets/js/44.993aea4e.js"><link rel="prefetch" href="/assets/js/45.60eb5226.js"><link rel="prefetch" href="/assets/js/46.8501be1f.js"><link rel="prefetch" href="/assets/js/47.ba2302fc.js"><link rel="prefetch" href="/assets/js/48.e932482f.js"><link rel="prefetch" href="/assets/js/49.c1af1af4.js"><link rel="prefetch" href="/assets/js/5.1d8a5d7f.js"><link rel="prefetch" href="/assets/js/50.e7715e10.js"><link rel="prefetch" href="/assets/js/51.ab6021ba.js"><link rel="prefetch" href="/assets/js/52.c5c5c3ef.js"><link rel="prefetch" href="/assets/js/53.7157cd05.js"><link rel="prefetch" href="/assets/js/54.f4abd89d.js"><link rel="prefetch" href="/assets/js/55.c86bbebc.js"><link rel="prefetch" href="/assets/js/56.ee48a85c.js"><link rel="prefetch" href="/assets/js/57.90d4c487.js"><link rel="prefetch" href="/assets/js/58.1d4866f8.js"><link rel="prefetch" href="/assets/js/59.75c6bc90.js"><link rel="prefetch" href="/assets/js/6.90059570.js"><link rel="prefetch" href="/assets/js/60.c5e61798.js"><link rel="prefetch" href="/assets/js/61.54457b0e.js"><link rel="prefetch" href="/assets/js/62.2e0af734.js"><link rel="prefetch" href="/assets/js/63.07cece40.js"><link rel="prefetch" href="/assets/js/64.e6ab0174.js"><link rel="prefetch" href="/assets/js/65.663550a9.js"><link rel="prefetch" href="/assets/js/66.64ad9de7.js"><link rel="prefetch" href="/assets/js/67.cc5c5ab3.js"><link rel="prefetch" href="/assets/js/68.d76b1a45.js"><link rel="prefetch" href="/assets/js/69.06c85095.js"><link rel="prefetch" href="/assets/js/7.e0481b37.js"><link rel="prefetch" href="/assets/js/70.5fa17108.js"><link rel="prefetch" href="/assets/js/71.ea8df0ea.js"><link rel="prefetch" href="/assets/js/72.12d99daf.js"><link rel="prefetch" href="/assets/js/73.8b6c81cd.js"><link rel="prefetch" href="/assets/js/74.e089a7e8.js"><link rel="prefetch" href="/assets/js/75.eda86622.js"><link rel="prefetch" href="/assets/js/76.451d3bf2.js"><link rel="prefetch" href="/assets/js/77.5a71a520.js"><link rel="prefetch" href="/assets/js/78.5e4673c6.js"><link rel="prefetch" href="/assets/js/79.f657e29d.js"><link rel="prefetch" href="/assets/js/8.e1e88656.js"><link rel="prefetch" href="/assets/js/80.d7b2d65d.js"><link rel="prefetch" href="/assets/js/81.c9dc1609.js"><link rel="prefetch" href="/assets/js/82.2b309c6c.js"><link rel="prefetch" href="/assets/js/9.54f76d53.js">
    <link rel="stylesheet" href="/assets/css/0.styles.19232fe9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/jian.jpeg" alt="Jian‘s blog" class="logo"> <span class="site-name can-hide">Jian‘s blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="js" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  js杂记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/promise.html" class="nav-link">
  Promise规范和应用
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/browser.html" class="nav-link">
  浏览器对象详解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/js_oop.html" class="nav-link">
  面向对象编程
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/ES6.html" class="nav-link">
  ES6ESNext规范详解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/this_chain.html" class="nav-link">
  this指针作用域
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/typescript.html" class="nav-link">
  ts初探
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/basics.html" class="nav-link">
  ts基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/project.html" class="nav-link">
  ts工程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/tools/js_module.html" class="nav-link">
  模块化规范
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/js_project.html" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/autotest.html" class="nav-link">
  自动化测试和部署
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/ast.html" class="nav-link">
  AST
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/solution.html" class="nav-link">
  前端方案
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/js_tools.html" class="nav-link">
  常用工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/vue/index.html" class="nav-link">
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/advance.html" class="nav-link">
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-cli.html" class="nav-link">
  vue-cli
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-loader.html" class="nav-link">
  vue-loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-router.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vuex.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_ssr.html" class="nav-link">
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-i18n.html" class="nav-link">
  vue-i18n
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-life.html" class="nav-link">
  生命周期
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_reactive.html" class="nav-link">
  响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_diff.html" class="nav-link">
  diff原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-compiler.html" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-refs.html" class="nav-link">
  实战总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="react" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/react/react.html" class="nav-link">
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-advance.html" class="nav-link">
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-router.html" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-state.html" class="nav-link">
  react状态管理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-ssr.html" class="nav-link">
  react同构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-component.html" class="nav-link">
  react组件封装
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-code.html" class="nav-link">
  react源码分析
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/react-ts.html" class="nav-link">
  react-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-practice.html" class="nav-link">
  react问题整理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nodejs" class="dropdown-title"><span class="title">nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="nodejs" class="mobile-dropdown-title"><span class="title">nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/nodejs/index.html" class="nav-link">
  nodejs基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/module.html" class="nav-link">
  nodejs常用框架
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  nodejs网络及部署
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/express-ts.html" class="nav-link">
  express-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/info.html" class="nav-link">
  nodejs前研
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/" class="nav-link">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/performance.html" class="nav-link">
  前端性能优化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/explorer.html" class="nav-link">
  浏览器进程和线程
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/security-control.html" class="nav-link">
  前端网络安全
</a></li><li class="dropdown-item"><!----> <a href="/frontend/lowcode/lowcode.html" class="nav-link">
  低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/micro-frontend.html" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/designMode.html" class="nav-link">
  前端设计模式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/frontend/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/hybrid/hybrid.html" class="nav-link">
  hybrid开发及原理分析
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/canvas.html" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/graph.html" class="nav-link">
  图片格式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/web3.html" class="nav-link">
  web3探索
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/algorithm/graph.html" class="nav-link">
  图的存储和遍历
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/dpointer.html" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/Levenshtein.html" class="nav-link">
  最短编辑距离
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/greed.html" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/dp.html" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/leetcode.html" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nginx.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/springboot.html" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/backend/mybatis.html" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/backend/uml.html" class="nav-link">
  uml类图
</a></li><li class="dropdown-item"><!----> <a href="/backend/ddd.html" class="nav-link">
  领域驱动设计
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="js" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="js" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  js杂记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/promise.html" class="nav-link">
  Promise规范和应用
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/browser.html" class="nav-link">
  浏览器对象详解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/js_oop.html" class="nav-link">
  面向对象编程
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/ES6.html" class="nav-link">
  ES6ESNext规范详解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/this_chain.html" class="nav-link">
  this指针作用域
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/typescript.html" class="nav-link">
  ts初探
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/basics.html" class="nav-link">
  ts基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/project.html" class="nav-link">
  ts工程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/tools/js_module.html" class="nav-link">
  模块化规范
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/js_project.html" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/autotest.html" class="nav-link">
  自动化测试和部署
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/ast.html" class="nav-link">
  AST
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/solution.html" class="nav-link">
  前端方案
</a></li><li class="dropdown-item"><!----> <a href="/frontend/tools/js_tools.html" class="nav-link">
  常用工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue" class="dropdown-title"><span class="title">vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue" class="mobile-dropdown-title"><span class="title">vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/vue/index.html" class="nav-link">
  vue2.0基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/advance.html" class="nav-link">
  vue2.0进阶
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-cli.html" class="nav-link">
  vue-cli
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-loader.html" class="nav-link">
  vue-loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-router.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vuex.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_ssr.html" class="nav-link">
  vue-ssr
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-i18n.html" class="nav-link">
  vue-i18n
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-life.html" class="nav-link">
  生命周期
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_reactive.html" class="nav-link">
  响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue_diff.html" class="nav-link">
  diff原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-compiler.html" class="nav-link">
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/vue-refs.html" class="nav-link">
  实战总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="react" class="dropdown-title"><span class="title">react</span> <span class="arrow down"></span></button> <button type="button" aria-label="react" class="mobile-dropdown-title"><span class="title">react</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/react/react.html" class="nav-link">
  react基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-advance.html" class="nav-link">
  react进阶
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-router.html" class="nav-link">
  react-router
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-state.html" class="nav-link">
  react状态管理
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-ssr.html" class="nav-link">
  react同构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-component.html" class="nav-link">
  react组件封装
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-code.html" class="nav-link">
  react源码分析
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/react-ts.html" class="nav-link">
  react-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/react-practice.html" class="nav-link">
  react问题整理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nodejs" class="dropdown-title"><span class="title">nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="nodejs" class="mobile-dropdown-title"><span class="title">nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/nodejs/index.html" class="nav-link">
  nodejs基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/module.html" class="nav-link">
  nodejs常用框架
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  nodejs网络及部署
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/express-ts.html" class="nav-link">
  express-ts实战
</a></li><li class="dropdown-item"><!----> <a href="/frontend/nodejs/info.html" class="nav-link">
  nodejs前研
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/interview/" class="nav-link">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/performance.html" class="nav-link">
  前端性能优化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/explorer.html" class="nav-link">
  浏览器进程和线程
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/security-control.html" class="nav-link">
  前端网络安全
</a></li><li class="dropdown-item"><!----> <a href="/frontend/lowcode/lowcode.html" class="nav-link">
  低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/micro-frontend.html" class="nav-link">
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/designMode.html" class="nav-link">
  前端设计模式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/frontend/mini-program/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/hybrid/hybrid.html" class="nav-link">
  hybrid开发及原理分析
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/canvas.html" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/graph.html" class="nav-link">
  图片格式
</a></li><li class="dropdown-item"><!----> <a href="/frontend/else/web3.html" class="nav-link">
  web3探索
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/algorithm/graph.html" class="nav-link">
  图的存储和遍历
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/dpointer.html" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/Levenshtein.html" class="nav-link">
  最短编辑距离
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/greed.html" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/dp.html" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/leetcode.html" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nginx.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/springboot.html" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/backend/mybatis.html" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/backend/uml.html" class="nav-link">
  uml类图
</a></li><li class="dropdown-item"><!----> <a href="/backend/ddd.html" class="nav-link">
  领域驱动设计
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Nodejs网络及部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/nodejs/http.html#_1、网络模型" class="sidebar-link">1、网络模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_1、osi七层模型" class="sidebar-link">1、osi七层模型</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_2、tcp-ip参考模型" class="sidebar-link">2、TCP/IP参考模型</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_3、面试题" class="sidebar-link">3、面试题</a></li></ul></li><li><a href="/frontend/nodejs/http.html#_2、tcp和udp协议" class="sidebar-link">2、TCP和UDP协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_1、区别和场景" class="sidebar-link">1、区别和场景</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_2、tcp协议" class="sidebar-link">2、TCP协议</a></li></ul></li><li><a href="/frontend/nodejs/http.html#_3、ip地址" class="sidebar-link">3、IP地址</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/nodejs/http.html#_4、dns" class="sidebar-link">4、DNS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend/nodejs/http.html#_5、http" class="sidebar-link">5、HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_1、uri和url" class="sidebar-link">1、URI和URL</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_2、完整的http通讯" class="sidebar-link">2、完整的http通讯</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_3、http协议特点" class="sidebar-link">3、HTTP协议特点</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_4、http1-0-1-1-2-0" class="sidebar-link">4、HTTP1.0/1.1/2.0</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_5、http状态码" class="sidebar-link">5、HTTP状态码</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_6、http请求头" class="sidebar-link">6、HTTP请求头</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_7、https" class="sidebar-link">7、HTTPS</a></li></ul></li><li><a href="/frontend/nodejs/http.html#_6、nodejs网络模块" class="sidebar-link">6、Nodejs网络模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_1、tcp模块" class="sidebar-link">1、TCP模块</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_2、udp模块" class="sidebar-link">2、UDP模块</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_3、http模块" class="sidebar-link">3、HTTP模块</a></li><li class="sidebar-sub-header"><a href="/frontend/nodejs/http.html#_4、rpc调用" class="sidebar-link">4、rpc调用</a></li></ul></li><li><a href="/frontend/nodejs/http.html#_7、网络部署及应用" class="sidebar-link">7、网络部署及应用</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nodejs网络及部署"><a href="#nodejs网络及部署" class="header-anchor">#</a> Nodejs网络及部署</h1> <blockquote><ol><li><a href="https://blog.csdn.net/xiaoming100001/article/details/81109617/" target="_blank" rel="noopener noreferrer">http和https(只做参考，部分描述不准确)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/qq_35642036/article/details/82788421?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-3.no_search_link&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-3.no_search_link" target="_blank" rel="noopener noreferrer">http和https的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>图解http图书</li></ol></blockquote> <h2 id="_1、网络模型"><a href="#_1、网络模型" class="header-anchor">#</a> 1、网络模型</h2> <h3 id="_1、osi七层模型"><a href="#_1、osi七层模型" class="header-anchor">#</a> 1、osi七层模型</h3> <ul><li>第7层<strong>应用层</strong>：为操作系统或网络应用程序提供访问网络服务的接口。
<ul><li>协议包括：https、http、ftp、telnet、ssh、smtp、pops、dns等</li> <li>html</li></ul></li> <li>第6层<strong>表示层</strong>：把数据转换为接受者能够兼容并且传输的内容，比如数据加密、压缩、格式转换等。</li> <li>第5层<strong>会话层</strong>：负责数据传输中设置和维持网络设置直接的通讯连接。管理主机之间的会话进程，还可以利用在数据中插入校验点来实现数据同步。</li> <li>第4层<strong>传输层</strong>：把传输表头加至数据形成数据包，完成端到端的数据传输，传输表头包含协议等信息。
<ul><li>协议包括：tcp、udp协议</li></ul></li> <li>第3层<strong>网络层</strong>：负责对子网间的数据包进行寻址和路由选择，还可以实现阻塞控制和网际互联等功能。
<ul><li>协议包括：ip、ipx等</li> <li>路由器</li></ul></li> <li>第2层<strong>数据链路层</strong>：在物理介质上提供可靠的传输，包括物理地址寻址、数据封装成帧、流量控制、数据校验、重发等
<ul><li>交互机</li></ul></li> <li>第1层<strong>物理层</strong>：在局域网传输数据帧，负责电脑通讯设备和网络媒体之间的互通，包括针脚、电压、线缆规范、集线器、网卡、主机适配。</li></ul> <h3 id="_2、tcp-ip参考模型"><a href="#_2、tcp-ip参考模型" class="header-anchor">#</a> 2、TCP/IP参考模型</h3> <ul><li>应用层：应用层、表示层、会话层</li> <li>传输层：传输层</li> <li>网络层：网络层</li> <li>链路层：数据链路层、物理层</li></ul> <img src="/img/tcp-ip.png"> <h3 id="_3、面试题"><a href="#_3、面试题" class="header-anchor">#</a> 3、面试题</h3> <ol><li><p>协议是什么？</p> <p>定义每一层的作用和职责，类似于规范。</p></li> <li><p>TCP/IP协议具体指什么？</p> <p>互联网通讯所需要的协议家族，以TCP、IP为核心，包含HTTP、SMTP、TELNET等各种协议</p></li> <li><p>数据包是什么？</p> <p>网络层及以上分层中包的单位。每个分层都会对发送的数据添加一个首部，首部包含了该层协议相关的信息，真正发送的内容称为数据，即每个数据包为首部+数据。对于下层来说，上层发送的全部内容，都会被当作本层的数据。</p> <ul><li>传输层TCP包：TCP包首部 + 数据</li> <li>网络层IP包：IP包首部 + （TCP包首部 + 数据）</li> <li>数据链路层以太网包：以太网包首部 + （IP包首部 + （TCP包首部 + 数据））</li></ul></li> <li><p>每次在接收数据后除了添加首部还会做什么？</p> <p>用户1</p> <ul><li>传输层：TCP模块为保证数据的可靠传输, 需要添加TCP首部</li> <li>网络层：IP包生成后，参考路由控制表决定接受此 IP 包的路由或主机。</li> <li>数据链路层：生成的以太网数据包将通过物理层传输给接收端</li></ul> <p>用户2</p> <ul><li>数据链路层：主机收到以太网包后，首先从以太网包首部找到 MAC 地址判断是否为发送给自己的包，若不是则丢弃数据。
如果是发送给自己的包，则从以太网包首部中的类型确定数据类型，再传给相应的模块，比如IP.</li> <li>网络层：从包首部中判断此 IP 地址是否与自己的 IP 地址匹配，如果匹配则根据首部的协议类型将数据发送给对应的模块，比如TCP</li> <li>传输层：在 TCP 模块中，首先会计算一下校验和，判断数据是否被破坏。然后检查是否在按照顺序接收数据。最后检查端口号，确定具体的应用程序。数据被完整地接收以后，会传给由端口号识别的应用程序。</li></ul> <p>总结一下几个地址：</p> <ul><li>数据链路层的是MAC地址, 用来识别同一链路中的不同计算机</li> <li>网络层的是IP地址, 用来识别TCP/IP 网络中互连的主机和路由器</li> <li>传输层的是端口号(程序地址), 用来识别同一台计算机中进行通信的不同应用程序</li></ul></li> <li><p>通过MAC地址、IP地址、端口号是否可识别一次通讯？</p> <p>答案是否定的，我们需要通过以下这几个数据综合来识别一次通信：</p> <ul><li>IP首部：源IP地址</li> <li>IP首部：目标IP地址</li> <li>协议号, TCP或者UDP</li> <li>TCP首部：源端口号</li> <li>TCP首部：目标端口号</li></ul></li></ol> <h2 id="_2、tcp和udp协议"><a href="#_2、tcp和udp协议" class="header-anchor">#</a> 2、TCP和UDP协议</h2> <h3 id="_1、区别和场景"><a href="#_1、区别和场景" class="header-anchor">#</a> 1、区别和场景</h3> <p>传输层协议：</p> <ul><li><p>UDP是⽆连接的，TCP必须三次握⼿建⽴连接</p></li> <li><p>UDP是⾯向报⽂，没有拥塞控制，所以速度快，适合多媒体通信要求，⽐如及时聊天，⽀持⼀对⼀，⼀对多，多对⼀，多对多。就像⽜客⽹的视频⾯试就是⽤的UDP</p></li> <li><p>TCP只能是⼀对⼀的可靠性传输</p></li></ul> <details class="custom-block details"><summary>DETAILS</summary> <p>面试题：网络直播底层是什么协议</p> <p>分析：其实现在常⻅的rtmp(实时消息传输协议)和hls(HTTP Live Streaming)直播, 都是基于TCP的, 希望能提供稳定的直播环境.</p></details> <h3 id="_2、tcp协议"><a href="#_2、tcp协议" class="header-anchor">#</a> 2、TCP协议</h3> <h4 id="_1、可靠性保证"><a href="#_1、可靠性保证" class="header-anchor">#</a> 1、可靠性保证</h4> <ul><li>超时重发，发出报文端要是没有收到及时的确认，会重发</li> <li>数据包的校验，校验首部数据和</li> <li>对失序的数据重新排序</li> <li>进行流量控制，防止缓冲区溢出</li> <li>快重传和会恢复</li> <li>TCP会将数据截断为合理的长度</li></ul> <h4 id="_2、拥堵控制"><a href="#_2、拥堵控制" class="header-anchor">#</a> 2、拥堵控制</h4> <p>拥塞控制就是防止过多的数据注入网络中，这样可以使网络中的路由器或链路不致过载。</p> <p>发送方维持一个叫做拥塞窗口cwnd（congestion window）的状态变量和慢开始门限ssthresh状态变量：初始设置ssthresh=16，cwnd=1.</p> <ul><li><p>当cwnd&lt;ssthresh时，使⽤慢开始算法，也就是乘法算法，拥塞窗口 cwnd 随着传输次数按指数规律增长。</p></li> <li><p>当cwnd=ssthresh时，慢开始与拥塞避免算法任意。</p></li> <li><p>当cwnd&gt;ssthresh时，改⽤拥塞避免算法，也就是加法算法，拥塞窗口按线性规律增长。</p></li> <li><p>当出现拥塞的时候就把新的门限值ssthresh设为此时窗口大小cwnd的一半，窗口大小设置为1，再重新执行上面的步骤。eg：cwnd为24时拥堵，设置ssthresh为12，cwnd为1，再开始慢开始算法。</p></li> <li><p>当收到连续三个重传的时候这就需要快重传和快恢复了，当收到连续三个重传，这个时候发送方就要重传自己的信息，然后门限ssthresh减半，但是这个时候并不是网络阻塞，窗口cwnd只会减半，执行拥塞避免算法。</p></li></ul> <h4 id="_3、三次握手、四次挥手"><a href="#_3、三次握手、四次挥手" class="header-anchor">#</a> 3、三次握手、四次挥手</h4> <p>TCP协议的一次数据传输, 从建立连接到断开连接都有哪些流程?</p> <img src="/img/tcp-link.jpeg"> <ul><li>三次握手
<ul><li>第一次握手：建立连接。客户端发送连接请求报文段，将SYN位置为1，Sequence Number为x；然后，客户端进入SYN_SEND状态，等待服务器的确认；</li> <li>第二次握手：服务器收到客户端的SYN报文段，需要对这个SYN报文段进行确认，设置Acknowledgment Number为x+1(Sequence Number+1)；同时，自己自己还要发送SYN请求信息，将SYN位置为1，Sequence Number为y；服务器端将上述所有信息放到一个报文段（即SYN+ACK报文段）中，一并发送给客户端，此时服务器进入SYN_RECV状态；</li> <li>第三次握手：客户端收到服务器的SYN+ACK报文段。然后将Acknowledgment Number设置为y+1，向服务器发送ACK报文段，这个报文段发送完毕以后，客户端和服务器端都进入ESTABLISHED状态，完成TCP三次握手。完成了三次握手，客户端和服务器端就可以开始传送数据。</li></ul></li> <li>四次挥手
<ul><li>第一次挥手：主机1（可以使客户端，也可以是服务器端），设置Sequence Number和Acknowledgment Number，向主机2发送一个FIN报文段；此时，主机1进入FIN_WAIT_1状态；这表示主机1没有数据要发送给主机2了；</li> <li>第二次挥手：主机2收到了主机1发送的FIN报文段，向主机1回一个ACK报文段，Acknowledgment Number为Sequence Number加1；主机1进入FIN_WAIT_2状态；主机2告诉主机1，我“同意”你的关闭请求；</li> <li>第三次挥手：主机2向主机1发送FIN报文段，请求关闭连接，同时主机2进入LAST_ACK状态；</li> <li>第四次挥手：主机1收到主机2发送的FIN报文段，向主机2发送ACK报文段，然后主机1进入TIME_WAIT状态；主机2收到主机1的ACK报文段以后，就关闭连接；此时，主机1等待2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，主机1也可以关闭连接了。</li></ul></li></ul> <details class="custom-block details"><summary>DETAILS</summary> <p>面试题：为什么进行三次握手和四次挥手？</p> <p>解析：</p> <ol><li>三次握手：为了解决“网络中存在延迟的重复分组”的问题（为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误），另一种描述，为了在不可靠信道上可靠地传输信息。</li> <li>四次挥手：为实现TCP这种全双工连接的可靠释放；为使旧的数据包在网络因过期而消失。</li></ol></details> <h2 id="_3、ip地址"><a href="#_3、ip地址" class="header-anchor">#</a> 3、IP地址</h2> <p>网络层协议</p> <ul><li><p>IP 地址（IPv4 地址）由32位正整数来表示，在计算机内部以二进制方式被处理。</p> <ul><li>将32位的 IP 地址以每8位为一组，分成4组，每组以 “.” 隔开，再将每组数转换成十进制数（0-255）。</li> <li>IP地址包含网络标识和主机标识，eg：172.112.110.11，172.112.110就是网络标识,，同一网段内网络标识必须相同。11就是主机标识,，同一网段内主机标识不能重复。</li></ul></li> <li><p>IPv6：解决 IPv4 地址耗尽的问题而被标准化的网际协议。IPv4 的地址长度为 4 个 8 位字节，即 32 比特，而 IPv6 的地址长度则是原来的 4 倍，即 128 比特，一般写成 8 个 16 位字节。通常写成8组，每组为四个十六进制数的形式。比如：AD80:0000:0000:0000:ABAA:0000:00C2:0002</p></li></ul> <h2 id="_4、dns"><a href="#_4、dns" class="header-anchor">#</a> 4、DNS</h2> <p>应用层协议：DNS协议是用来将域名转换为IP地址（也可以将IP地址转换为相应的域名地址）</p> <ul><li>DNS使用TCP和UDP端口53。</li> <li>对于每一级域名长度的限制是63个字符，域名总长度则不能超过253个字符。</li></ul> <p>客户端发送查询报文&quot;query zh.wikipedia.org&quot;至DNS服务器：</p> <ul><li><p>DNS服务器首先检查自身缓存，如果存在记录则直接返回结果。如果记录老化或不存在，则执行如下步骤：</p></li> <li><p>DNS服务器向根域名服务器发送查询报文&quot;query zh.wikipedia.org&quot;，根域名服务器返回顶级域 .org 的顶级域名服务器地址。</p></li> <li><p>DNS服务器向 .org 域的顶级域名服务器发送查询报文&quot;query zh.wikipedia.org&quot;，得到二级域 .wikipedia.org 的权威域名服务器地址。</p></li> <li><p>DNS服务器向 .wikipedia.org 域的权威域名服务器发送查询报文&quot;query zh.wikipedia.org&quot;，得到主机 zh 的A记录，存入自身缓存并返回给客户端。</p></li></ul> <h2 id="_5、http"><a href="#_5、http" class="header-anchor">#</a> 5、HTTP</h2> <p>HTTP协议（HyperText Transfer Protocol，超⽂本传输协议）是⽤于从WWW服务器传输超⽂本到本地浏览器的传输协议。HTTP是客户端浏览器或其他程序与Web服务器之间的应⽤层通信协议。在Internet上的Web服务器上存放的都是超⽂本信息，客户机需要通过HTTP协议传输所要访问的超⽂本信息。</p> <h3 id="_1、uri和url"><a href="#_1、uri和url" class="header-anchor">#</a> 1、URI和URL</h3> <ul><li>URI：uniform resource identifier，统一资源标识符，用来唯一的标识一个资源。</li> <li>URL：Uniform Resource Locator，统⼀资源定位符，它是一种具体的URI，即URL可以用来标识一个资源，而且还指明了如何locate这个资源，常用URL标识每个⽹⻚Internet地址。</li></ul> <h3 id="_2、完整的http通讯"><a href="#_2、完整的http通讯" class="header-anchor">#</a> 2、完整的http通讯</h3> <ul><li><p>建⽴ TCP 连接，⼀般 TCP 连接的端⼝号是80</p></li> <li><p>客户端向服务器发送请求命令，如GET/info.html  HTTP/1.1</p></li> <li><p>客户端发送请求头信息，如user-agent，host等关于自身的信息，最后发送空⽩⾏来通知服务器，它已经结束了该头信息的发送；若为post请求，会继续发送请求体。</p></li> <li><p>服务器应答，响应的第⼀部分是协议的版本号和响应状态码，例如： HTTP/1.1 200 OK</p></li> <li><p>服务器返回响应头信息，关于⾃身的信息及被请求的⽂档；</p></li> <li><p>服务器向客户端发送数据：发送头信息后，它会发送⼀个空⽩⾏来表示头信息的发送到此为结束，接着它就以 Content-Type 响应头信息所描述的格式发送⽤户所请求的实际数据；</p></li> <li><p>服务器关闭 TCP 连接：⼀般情况下，⼀旦服务器向客户端返回了请求数据，它就要关闭 TCP 连接，然后如果客户端或者服务器在其头信息加⼊了这⾏代码 Connection:keep-alive ，TCP 连接在发送后将仍然保持打开状态，于是，客户端可以继续通过相同的连接发送请求。保持连接节省了为每个请求建⽴新连接所需的时间，还节约了⽹络带宽。</p></li></ul> <h3 id="_3、http协议特点"><a href="#_3、http协议特点" class="header-anchor">#</a> 3、HTTP协议特点</h3> <ul><li><p>通过请求和响应的交换达成通信：协议规定, 请求从客户端发出, 服务端响应请求并返回.</p></li> <li><p>无状态：协议对于发送过的请求或响应都不做持久化处理</p></li> <li><p>使用Cookie做状态管理：服务端返回的头信息上有可能会携带Set-Cookie, 那么当客户端接收到响应后, 就会在本地种上cookie. 在下一次给服务端发送请求的时候, 就会携带上这些cookie。</p></li> <li><p>通过URL定位资源</p></li> <li><p>方法标识意图：比如GET POST PUT DELETE等</p></li> <li><p>持久连接：HTTP 协议的初始版本中，每进行一个 HTTP 通信都要断开一次 TCP 连接，增加了很多没必要的建立连接的开销。为了解决上述 TCP 连接的问题，HTTP/1.1 支持持久连接。其特点是，只要任意一端没有明确提出断开连接，则保持 TCP 连接状态。旨在建立一次 TCP 连接后进行多次请求和响应的交互。在 HTTP/1.1 中，所有的连接默认都是持久连接，也就是说默认情况下建立 TCP 连接不会断开，只有在请求报头中声明 Connection: close 才会在请求完成后关闭连接。</p></li> <li><p>管道机制：1.1版本引入pipelining机制, 即在同一个TCP连接里面，客户端可以同时发送多个请求。</p> <p>举例来说，客户端需要请求两个资源。以前的做法是，在同一个TCP连接里面，先发送A请求，然后等待服务器做出回应，收到后再发出B请求。管道机制则是允许浏览器同时发出A请求和B请求，但是服务器还是按照顺序，先回应A请求，完成后再回应B请求。但是现代浏览器一般没开启这个配置, 这个机制可能会造成队头阻塞. 因为响应是有顺序的, 如果一个TCP连接中的第一个HTTP请求响应非常慢, 那么就会阻塞后续HTTP请求的响应，所以现实中默认情况下, 一个TCP连接同一时间只发一个HTTP请求.</p></li></ul> <details class="custom-block details"><summary>DETAILS</summary> <p>面试题1：chrome最大支持6个同域名请求呢？</p> <p>chrome最大支持同时开启6个TCP连接。</p></details> <h3 id="_4、http1-0-1-1-2-0"><a href="#_4、http1-0-1-1-2-0" class="header-anchor">#</a> 4、HTTP1.0/1.1/2.0</h3> <h4 id="_1、并发强求区别"><a href="#_1、并发强求区别" class="header-anchor">#</a> 1、并发强求区别</h4> <ul><li>HTTP1.0：每次TCP连接只能发送一个请求，当服务器响应后就会关闭这次连接，下一个请求需要再次建立TCP连接.</li> <li>HTTP1.1：
<ul><li>默认采用持续连接(TCP连接默认不关闭，可以被多个请求复用，不用声明Connection: keep-alive)；</li> <li>增加了管道机制，在同一个TCP连接里，允许多个请求同时发送，增加了并发性，进一步改善了HTTP协议的效率，但是同一个TCP连接里，所有的数据通信是按次序进行的。回应慢，会有许多请求排队，造成&quot;队头堵塞&quot;。</li></ul></li> <li>HTTP2.0
<ul><li>加了双工模式，即不仅客户端能够同时发送多个请求，服务端也能同时处理多个请求，解决了队头堵塞的问题。</li> <li>使用了多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。</li> <li>增加服务器推送的功能，不经请求服务端主动向客户端发送数据。</li></ul></li></ul> <h4 id="_2、其他问题"><a href="#_2、其他问题" class="header-anchor">#</a> 2、其他问题</h4> <ol><li><p>HTTP1.1⻓连接和HTTP2.0多路复⽤的区别?</p> <ul><li>HTTP1.1：同⼀时间⼀个TCP连接只能处理⼀个请求, 采⽤⼀问⼀答的形式, 上⼀个请求响应后才能处理下⼀个请求. 由于浏览器最⼤TCP连接数的限制, 所以有了最⼤并发请求数的限制。</li> <li>HTTP2.0：同域名下所有通信都在单个连接上完成，消除了因多个 TCP 连接⽽带来的延时和内存消耗。单个连接上可以并⾏交错的请求和响应，之间互不⼲扰。</li></ul></li> <li><p>为什么HTTP/1.1不能实现多路复⽤?</p> <p>HTTP2是基于⼆进制“帧”的协议，HTTP1.1是基于“⽂本分割”解析的协议。</p> <ul><li>HTTP1.1的报⽂结构中, 服务器需要不断的读⼊字节，直到遇到换⾏符或者说⼀个空⽩⾏。处理顺序是串⾏的，⼀个请求和⼀个响应需要通过⼀问⼀答的形式才能对应起来。</li> <li>HTTP2.0中，有两个⾮常重要的概念，分别是帧（frame）和流（stream）。帧代表着最⼩的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流。多路复⽤，就是在⼀个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP 旧版本中的队头阻塞问题，极⼤的提⾼传输性能。</li></ul></li></ol> <h3 id="_5、http状态码"><a href="#_5、http状态码" class="header-anchor">#</a> 5、HTTP状态码</h3> <ul><li><p>1xx: 信息性状态码，webscoket</p></li> <li><p>2xx: 成功状态码，200、204(No Content) 、206(范围请求,⽐如⾳视频资源)</p></li> <li><p>3xx: 重定向， 301(永久) 、302(临时，可能会改变方法) 、304(协商缓存)、 307(临时，不会从post变为get) 、308(永久)</p></li> <li><p>4xx: 客户端错误， 400(bad request) 、401(Unauthorized，无session，未登录认证) 、403(Forbidden) 、404(not found) 、405(Method not allowed)</p></li> <li><p>5xx: 服务端错误，500(Internal server error) 、502(Bad Gateway) 、503(Service Unavailable)</p></li></ul> <h3 id="_6、http请求头"><a href="#_6、http请求头" class="header-anchor">#</a> 6、HTTP请求头</h3> <h4 id="_1、connection"><a href="#_1、connection" class="header-anchor">#</a> 1、Connection</h4> <p>请求头和返回头</p> <ul><li><p>close：HTTP/1.1 版本的默认连接都是持久连接。当服务器端想明确断开连接时，则指定Connection⾸部字段的值为 close</p></li> <li><p>Keep-Alive：HTTP/1.1 之前的HTTP版本的默认连接都是⾮持久连接。为此，如果想在旧版本的HTTP协议上维持持续连接，则需要指定Connection⾸部字段的值为Keep-Alive。</p></li></ul> <h4 id="_2、allow"><a href="#_2、allow" class="header-anchor">#</a> 2、Allow</h4> <p>返回头：⽤于通知客户端能够⽀持 Request-URI 指定资源的所有 HTTP ⽅法。</p> <p>当服务器接收到不⽀持的 HTTP ⽅法时，会以状态码 405 Method Not Allowed 作为响应返回。与此同时，还会把所有能⽀持的 HTTP ⽅法写⼊⾸部字段 Allow 后返回。Allow: GET, HEAD。</p> <h4 id="_3、host"><a href="#_3、host" class="header-anchor">#</a> 3、Host</h4> <p>请求头，Host: aam.sdc.cs.icbc:11688</p> <ul><li><p>告知服务器，请求的资源所处的互联⽹主机和端⼝号。</p></li> <li><p>Host ⾸部字段是 HTTP/1.1 规范内唯⼀⼀个必须被包含在请求内的⾸部字段。</p></li> <li><p>若服务器未设定主机名，那直接发送⼀个空值即可 Host: 。</p></li></ul> <h4 id="_4、accept、accept-language、accept-encoding"><a href="#_4、accept、accept-language、accept-encoding" class="header-anchor">#</a> 4、Accept、Accept-Language、Accept-Encoding</h4> <p>请求头</p> <ul><li><p>Accept: text/html, application/xhtml+xml, application/xml;</p> <p>Accept ⾸部字段可通知服务器，⽤户代理能够处理的媒体类型及媒体类型的相对优先级。可使⽤ type/subtype 这种形式，⼀次指定多种媒体类型。</p></li> <li><p>Accept-Encoding: gzip, deflate</p> <p>Accept-Encoding ⾸部字段⽤来告知服务器⽤户代理⽀持的内容编码及内容编码的优先顺序，并可⼀次性指定多种内容编码，也可使⽤星号（*）作为通配符，指定任意的编码格式。</p> <ul><li><p>gzip表明实体采⽤GNU zip编码</p></li> <li><p>compress表明实体采⽤Unix的⽂件压缩程序</p></li> <li><p>deflate表明实体采⽤zlib的格式压缩的</p></li> <li><p>identity表明没有对实体进⾏编码，当没有 Content-Encoding ⾸部字段时，默认采⽤此编码⽅式</p></li></ul></li> <li><p>Accept-Language: zh-cn,zh;q=0.5</p> <p>表示浏览器所支持的语言类型，浏览器支持的语言分别是简体中文和中文，优先支持简体中文。</p></li></ul> <h4 id="_5、content-encoding、content-type、content-language"><a href="#_5、content-encoding、content-type、content-language" class="header-anchor">#</a> 5、Content-Encoding、Content-Type、Content-language</h4> <p>响应头</p> <ul><li><p>Content-Encoding: gzip</p> <p>告知客户端服务器对实体的主体部分选⽤的内容编码⽅式。内容编码是指在不丢失实体信息的前提下所进⾏的压缩。</p></li> <li><p>Content-Type: text/html; charset=UTF-8</p> <p>说明了实体主体内对象的媒体类型。和⾸部字段 Accept ⼀样，字段值⽤ type/subtype 形式赋值。</p></li> <li><p>Content-language：zh-cn,zh;q=0.5</p> <p>说明了实体主体内对象的语言类型</p></li></ul> <h4 id="_6、user-agent"><a href="#_6、user-agent" class="header-anchor">#</a> 6、User-Agent</h4> <p>请求头</p> <p>User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36</p> <p>⾸部字段 User-Agent 会将创建请求的浏览器和⽤户代理名称等信息传达给服务器。由⽹络爬⾍发起请求时，有可能会在字段内添加爬⾍作者的电⼦邮件地址。此外，如果请求经过代理，那么中间也很可能被添加上代理服务器的名称。</p> <h4 id="_7、set-cookie、cookie"><a href="#_7、set-cookie、cookie" class="header-anchor">#</a> 7、Set-Cookie、Cookie</h4> <p>Set-Cookie返回头、Cookie请求头</p> <p>Set-Cookie: userId=11111; expires=Mon, 10 Jul 20121 15:50:06 GMT; path=/;</p> <ul><li><p>NAME=VALUE: cookie名称和值</p></li> <li><p>expires=DATE: Cookie 的有效期（若不明确指定则默认为浏览器关闭前为⽌）</p></li> <li><p>path=PATH: ⽤于限制指定 Cookie 的发送范围的⽂件⽬录。</p></li> <li><p>domain=域名: cookie有效的域名 （若不指定则默认为创建 Cookie的服务器的域名）</p></li> <li><p>Secure: 仅在 HTTPS 安全通信时才会发送 Cookie</p></li> <li><p>HttpOnly: 使 Cookie 不能被 JavaScript 脚本访问</p></li></ul> <h4 id="_8、强缓存-expires、cache-control"><a href="#_8、强缓存-expires、cache-control" class="header-anchor">#</a> 8、强缓存：Expires、Cache-Control</h4> <ul><li><p>Expires：返回头，这是http1.0时的规范，Expires: Mon, 10 Jul 2021 15:50:06 GMT</p> <ul><li><p>⾸部字段 Expires 会将资源失效的⽇期告知客户端。</p></li> <li><p>缓存服务器在接收到含有⾸部字段 Expires 的响应后，会以缓存来应答请求，在 Expires 字段值指定的时间之前，响应的副本会⼀直被保存。当超过指定的时间后，缓存服务器在请求发送过来时，会转向源服务器请求资源。</p></li></ul></li> <li><p>Cache-Control：返回头，设置缓存机制</p> <ul><li><p>Cache-Control: public，可以被所有的用户缓存，包括终端用户和CDN等中间代理服务器</p></li> <li><p>Cache-Control: private，只能被终端用户的浏览器缓存，不允许CDN等中继缓存服务器对其缓存</p></li> <li><p>Cache-Control: no-cache，可以在客户端存储资源，每次都必须去服务端做过期校验，来决定从服务端获取新的资源</p></li></ul> <p>（200）还是使⽤客户端缓存（304）。也就是所谓的协商缓存。</p> <ul><li><p>Cache-Control: no-store，永远都不要在客户端存储资源，永远都去原始服务器去获取资源。</p></li> <li><p>Cache-Control: max-age=604800（单位：秒），当客户端发送的请求中包含 max-age 指令时，如果判定缓存资源的缓存时间数值⽐指定的时间更⼩，那么客户端就接收缓存的资源。另外，当指定 max-age 的值为0，那么缓存服务器通常需要将请求转发给源服务器。HTTP/1.1 版本的缓存服务器遇到同时存在 Expires ⾸部字段的情况时，会优先处理max-age指令，并忽略Expires ⾸部字段</p></li> <li><p>Cache-Control: s-maxage=604800（单位：秒），s-maxage 指令的功能和 max-age 指令的相同，它们的不同点是 s-maxage 指令只适⽤于供多位⽤户使⽤的公共缓存服务器（⼀般指代理）。当使⽤ s-maxage 指令后，则直接忽略对 Expires ⾸部字段及 max-age 指令的处理</p></li></ul></li></ul> <h4 id="_9、协商缓存-etag、if-none-match、last-modified、if-modified-since"><a href="#_9、协商缓存-etag、if-none-match、last-modified、if-modified-since" class="header-anchor">#</a> 9、协商缓存：ETag、If-None-Match、Last-Modified、If-Modified-Since</h4> <ul><li><p>If-Modified-Since: Mon, 10 Jul 2021 15:50:06 GMT，请求头。</p> <ul><li>⽤于确认代理或客户端拥有的本地资源的有效性。</li> <li>在指定 If-Modified-Since 字段值的⽇期时间之后，如果请求的资源都没有过更新，则返回状态码 304 Not Modified 的响应</li></ul></li> <li><p>If-None-Match: “lubai”，请求头。⽤于指定 If-None-Match 字段值的实体标记（ETag）值与请求资源的 ETag 不⼀致时，它就告</p> <p>知服务器处理该请求。</p></li> <li><p>ETag: “aaaa-1234”，返回头，⾸部字段 ETag 能告知客户端实体标识。它是⼀种可将资源以字符串形式做唯⼀性标识的⽅式。服务器会为每份资源分配对应的 ETag 值。另外，当资源更新时，ETag 值也需要更新。⽣成 ETag 值时，并没有统⼀的算法规则，⽽仅仅是由服务器来分配。</p></li> <li><p>Last-Modified : Fri , 12 May 2006 18:53:33 GMT，返回头。在浏览器第一次请求某一个URL时，服务器端的返回状态会是200，内容是客户端请求的资源，同时有一个Last-Modified的属性标记此文件在服务器端最后被修改的时间。</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1、强缓存响应头设置：浏览器直接读取内存或硬盘，不发起请求</span>
<span class="token comment">//两个条件：不是当前页面的第一个请求（非浏览器url地址栏的请求）、在有效期内</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Cache-Control'</span><span class="token punctuation">,</span><span class="token string">'max-age=10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//单位s，相对时间，http1.1，比expires优先</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Expires'</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绝对时间，Date.now()返回ms</span>

<span class="token comment">//2、协商缓存</span>
<span class="token comment">//服务器返回Last-Modified（改变时间）、Etag（文件内容hash值）</span>
<span class="token comment">//浏览器下次请求时返回：If-None-Match、If-Modified-Since</span>

<span class="token comment">//3、实践，返回强缓存、协商缓存头</span>
<span class="token keyword">const</span> img <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./ip_kinds.jpg'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> etag <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token function">createHash</span><span class="token punctuation">(</span><span class="token string">'md5'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">'base64'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> reqEtag <span class="token operator">=</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'if-none-match'</span><span class="token punctuation">]</span>
<span class="token comment">// 有etag就根据etag判断，返回304还是200</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>reqEtag <span class="token operator">&amp;&amp;</span> reqEtag <span class="token operator">==</span> etag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'etag 协商缓存⽣效'</span><span class="token punctuation">)</span>
 res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">304</span>
 res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> imgStat <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span><span class="token string">'./ip_kinds.jpg'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ctime <span class="token operator">=</span> imgStat<span class="token punctuation">.</span>ctime<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reqLastModified <span class="token operator">=</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'if-modified-since'</span><span class="token punctuation">]</span>
<span class="token comment">// 没有etag根据last-modified 判断304还是200</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>reqLastModified <span class="token operator">===</span> ctime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'last modified 协商缓存⽣效'</span><span class="token punctuation">)</span>
 res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">304</span>
 res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 200 -&gt; 读⽂件，设置强缓存和协商缓存</span>
<span class="token comment">// 强缓存——响应头</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Cache-Control'</span><span class="token punctuation">,</span><span class="token string">'max-age=10'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Expires'</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 协商缓存——响应头</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Last-Modified'</span><span class="token punctuation">,</span> ctime<span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Etag'</span><span class="token punctuation">,</span>etag <span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>1、<a href="https://www.jianshu.com/p/9c95db596df5" target="_blank" rel="noopener noreferrer">彻底弄懂强缓存与协商缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>2、<a href="https://www.zhihu.com/question/20790576" target="_blank" rel="noopener noreferrer">大公司里怎样开发和部署前端代码？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>3、<a href="https://www.cnblogs.com/wonyun/p/5524617.html" target="_blank" rel="noopener noreferrer">http协商缓存VS强缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="_7、https"><a href="#_7、https" class="header-anchor">#</a> 7、HTTPS</h3> <h4 id="_1、https握手"><a href="#_1、https握手" class="header-anchor">#</a> 1、https握手</h4> <p>http + ssl/tsl = https，其中ssl/tsl协议为http和tcp之间的协议，在osi7层模型的会话层和表示层、保证了传输过程的安全性</p> <p>特点：</p> <ol><li>内容加密：采用混合加密技术，中间者无法直接查看明文</li> <li>验证身份：通过证书认证客户端访问的是自己的服务器</li> <li>保护数据完整性：防止传输的内容背中间人冒充或者篡改</li></ol> <p>握手过程：</p> <ul><li>客户端发起https请求，端口443，发送随机数1和客户端支持的加密算法</li> <li>服务端收到信息后回传响应信息，包括随机数2和匹配的加密算法</li> <li>服务端配置数字证书，实质为公私钥，其中数字证书为认证机构处理过的公钥，包含：证书颁发机构、过期时间、服务端公钥、第三方证书认证机构CA的签名、服务端的域名信息等内容。</li> <li>服务端传输数字证书给客户端</li> <li>客户端解析证书并验证，有问题提示警告，无问题生成随机值3，将随机数1、随机数2、随机值3组合成密钥，并用公钥加密</li> <li>客户端向服务端传输加密后的对称密钥</li> <li>服务端接收后，用私钥解密出对称密钥，拿对称密钥对传输内容进行对称加密</li> <li>服务端传输加密后的报文</li> <li>客户端用随机值进行解密，获取报文</li></ul> <h4 id="_2、证书校验"><a href="#_2、证书校验" class="header-anchor">#</a> 2、证书校验</h4> <p>数字证书内容：包括了加密后服务器的公钥、权威机构的信息、服务器域名，还有经过CA私钥签名之后的证书内容（先通过Hash函数计算得到证书数字摘要，然后用权威机构私钥加密数字摘要得到数字签名)，签名计算方法以及证书对应的域名</p> <p>https握手过程中，客户端如何验证证书的合法性：</p> <ol><li>首先浏览器读取证书中的证书所有者、有效期等信息进行校验：校验证书的网站域名是否与证书颁发域名一致，校验证书是否在有效期内；</li> <li>浏览器开始查找操作系统中已内置的受信任的证书颁发机构CA，与服务器发来的证书中的颁发者CA进行对比，用于校验证书是否为合法机构颁发；</li> <li>如果找不到，浏览器会报错，说明浏览器发来的证书是不可信任的；</li> <li>如果找到，那么浏览器会从操作系统中取出颁发者CA的公钥（浏览器一般内置常用认证机构的公钥），然后对服务器发来的证书里的数字签名进行解密；</li> <li>浏览器使用相同的hash算法计算出服务器发来的证书的hash值，将这个计算值与证书中签名做对比；</li> <li>对比结果一致，证明服务器发来的证书合法，没有被冒充</li></ol> <h4 id="_3、中间人攻击"><a href="#_3、中间人攻击" class="header-anchor">#</a> 3、中间人攻击</h4> <p>https中间人攻击：</p> <ol><li>服务器向客户端发送公钥；</li> <li>攻击者截获公钥，保留在自己手上；</li> <li>攻击者伪造假公钥，发给客户端；</li> <li>客户端收到伪造的假公钥，生成加密hash值发给服务器；</li> <li>攻击者获得加密hash值，用自己私钥解密获取hash值，同时生成假的hash加密值，发给服务器；</li> <li>服务器用私钥解密获得假的hash值，用假的hash值加密传输信息。</li></ol> <p>防范：服务器在发送浏览器的公钥中加入ca证书，浏览器可以验证ca证书的有效性（现有https很难被劫持，除非信任了劫持者的ca证书）</p> <h2 id="_6、nodejs网络模块"><a href="#_6、nodejs网络模块" class="header-anchor">#</a> 6、Nodejs网络模块</h2> <ul><li><p>socket套接字，socket是在应用层和传输层之间的一个抽象层，它把TCP/IP层复杂的操作抽象为几个简单的接口供应用层调用，来实现进程在网络中通信，比如create，listen，accept，connect，read和write等等。</p></li> <li><p>http为应用层模块，主要按照特定协议编解码数据；</p></li> <li><p>net为传输层模块，主要负责传输编码后的应用层数据；</p></li> <li><p>https是个综合模块（涵盖了http/tls/crypto等），主要用于确保数据安全性</p></li></ul> <h3 id="_1、tcp模块"><a href="#_1、tcp模块" class="header-anchor">#</a> 1、TCP模块</h3> <ul><li>tcp客户端</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'net'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">7777</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个TCP服务器实例，调用listen函数开始监听指定端口</span>
<span class="token comment">// net.createServer()有一个参数, 是监听连接建立的回调</span>
net<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> remoteName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>socket<span class="token punctuation">.</span>remoteAddress<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>socket<span class="token punctuation">.</span>remotePort<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// 建立成功了一个连接, 这个回调函数里返回一个socket对象.</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remoteName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 连接到本服务器</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 接收消息</span>
    socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remoteName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token comment">// 给客户端发消息</span>
        socket<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">你刚才说啥？是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">吗？</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 关闭</span>
    socket<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remoteName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 连接关闭</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token constant">HOST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server listening on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ul><li>tcp服务端</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'net'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> <span class="token number">7777</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">net<span class="token punctuation">.</span>Socket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ServerName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">HOST</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">,</span> <span class="token constant">HOST</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">成功连接到 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ServerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 向服务端发送数据</span>
<span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 client<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'我没事了, 告辞'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
 client<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'⻢冬梅'</span> <span class="token operator">+</span> count<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 接收消息</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ServerName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 关闭连接</span>
<span class="token comment">// client.destroy();</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 关闭事件</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection closed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_2、udp模块"><a href="#_2、udp模块" class="header-anchor">#</a> 2、UDP模块</h3> <ul><li>server</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> dgram <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dgram'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> dgram<span class="token punctuation">.</span><span class="token function">createSocket</span><span class="token punctuation">(</span><span class="token string">'udp4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> remote</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remote<span class="token punctuation">.</span>address<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remote<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
 server<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">收到！</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> remote<span class="token punctuation">.</span>port<span class="token punctuation">,</span> remote<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listening'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> address <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server listening on </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>address<span class="token punctuation">.</span>address<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>address<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">server</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token number">44444</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>client</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> dgram <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dgram'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'lubai'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> client <span class="token operator">=</span> dgram<span class="token punctuation">.</span><span class="token function">createSocket</span><span class="token punctuation">(</span><span class="token string">'udp4'</span><span class="token punctuation">)</span>
client<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> message<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token number">44444</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> bytes</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">发送成功</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>bytes<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">字节</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// client.close()</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>
client<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">buffer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_3、http模块"><a href="#_3、http模块" class="header-anchor">#</a> 3、HTTP模块</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//server</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
<span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'text/plain'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
 res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Server running at http://127.0.0.1:80/'</span><span class="token punctuation">)</span>

<span class="token comment">//client</span>
<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">hostname</span><span class="token operator">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
 <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
 <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
 <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Status=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token punctuation">.</span>statusCode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Headers=$ {JSON.stringify(res.headers)}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 res<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>
 res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
req<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>//浏览器访问：http://127.0.0.1:80/
//curl访问：curl -v http://127.0.0.1:80

// 三次握⼿
* Rebuilt URL to: http://127.0.0.1:80/
* Trying 127.0.0.1...
* TCP_NODELAY set
* Connected to 127.0.0.1 (127.0.0.1) port 80 (#0)

// 客户端向服务端发送请求报⽂
&gt; GET / HTTP/1.1
&gt; Host: 127.0.0.1:80
&gt; User-Agent: curl/7.54.0
&gt; Accept: */*
&gt;

// 服务端响应客户端内容
&lt; HTTP/1.1 200 OK
&lt; Content-Type: text/plain
&lt; Date: Wed, 04 Aug 2021 15:55:55 GMT
&lt; Connection: keep-alive
&lt; Keep-Alive: timeout=5
&lt; Transfer-Encoding: chunked
&lt;
* Connection #0 to host 127.0.0.1 left intact
Hello World%
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_4、rpc调用"><a href="#_4、rpc调用" class="header-anchor">#</a> 4、rpc调用</h3> <p>Remote Procedure Call(远程过程调⽤)</p> <ul><li><p>与http调⽤的区别</p> <ul><li>不⼀定使⽤ DNS 作为寻址服务，可使用内部协议存储
<ul><li>http传输时：http://test.com/aa  -&gt; ip</li> <li>rpc传输时：可使用内部协议存储，v1://dd.ccc -&gt; ip</li></ul></li> <li>基于TCP或UDP协议</li> <li>使⽤⼆进制协议(更⼩的体积，更快的解码速率)
<ul><li>http传输时：明文一般为json格式</li> <li>使用二进制，eg：定义1-4位为name、5-9位为age，使用buffer库进行解析，也可使用protocol-buffers库进行处理，像使⽤JSON⼀样简单</li></ul></li></ul></li> <li><p>tcp通信⽅式</p> <ul><li>单⼯：只能由一方向另一方发送数据另一方不可以，客户端向服务端发送数据或服务端向客户端发送数据</li> <li>半双⼯：独木桥，双向都可发送数据，但每次只能传输一种数据，客户端向服务端发送数据后，服务端向客户端发送数据</li> <li>全双⼯：双方可同时发送数据
<ul><li>错乱问题、粘包</li> <li>制定了⼀条协议规则，即 包序号（1-2字节）+ 包⻓度（3-6字节） + 包主体内容。</li></ul></li></ul></li></ul> <details class="custom-block details"><summary>DETAILS</summary> <p><a href="https://www.npmjs.com/package/protocol-buffers" target="_blank" rel="noopener noreferrer">protocol-buffers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.yuque.com/egg/nodejs/cpn3uo#tkqgiq" target="_blank" rel="noopener noreferrer">nodejs rpc框架 阿⾥ sofa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://grpc.io/docs/languages/node/quickstart/" target="_blank" rel="noopener noreferrer">nodejs rpc框架 ⾕歌 grpc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://http2.akamai.com/demo" target="_blank" rel="noopener noreferrer">http2性能对⽐<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></details> <h2 id="_7、网络部署及应用"><a href="#_7、网络部署及应用" class="header-anchor">#</a> 7、网络部署及应用</h2> <p>使用阿里云服务器，基于linux系统：</p> <ol><li>下载安装包</li></ol> <p><code>wget https://nodejs.org/dist/v10.9.0/node-v10.9.0-linux-x64.tar.xz</code></p> <ol start="2"><li>解压</li></ol> <p><code>tar xf node-v10.9.0-linux-x64.tar.xz</code></p> <ol start="3"><li>设置软链接</li></ol> <p><code>ln -s /root/node-v10.9.0-linux-x64/bin/node /usr/local/bin/node</code> <code>ln -s /root/node-v10.9.0-linux-x64/bin/npm /usr/local/bin/npm</code></p> <ol start="4"><li>查看Node版本和npm版本</li></ol> <p><code>node -v</code> <code>npm -v</code></p> <ol start="5"><li>设置npm源</li></ol> <p><code>npm config set registry https://registry.npm.taobao.org</code></p> <ol start="6"><li>服务器安装pm2</li></ol> <p>PM2 是一个带有负载均衡功能的 Node 应用进程管理器</p> <p><code>npm install -g pm2</code> <code>ln -s /root/node-v10.9.0-linux-x64/bin/pm2 /usr/local/bin/</code></p> <ol start="7"><li>配置ssh</li></ol> <ul><li>本地生成秘钥对: <code>ssh-keygen -t rsa</code>  demo_id_rsa</li> <li>将公钥放到服务器上: <code>scp ~/.ssh/demo_id_rsa.pub root@39.107.238.161:/root/.ssh/authorized_keys</code></li> <li>修改ssh配置 <code>vi ~/.ssh/config</code></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Host lubai
HostName 39.107.238.161
User root
Port 22
IdentityFile ~/.ssh/demo_id_rsa
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>服务器上修改ssh配置 <code>vim /etc/ssh/sshd_config</code></li></ul> <p>PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys</p> <ul><li>最后就可以ssh登录了! <code>ssh xx</code></li></ul> <ol start="8"><li>将本地代码同步到服务器</li></ol> <p>rsync是linux可以实现增量备份的工具</p> <p><code>rsync -avzp -e &quot;ssh&quot; ./Internet/ lubai:/root/app</code></p> <ol start="9"><li>服务器上启动http</li></ol> <p><code>pm2 start /root/app/http-server.js</code></p> <ol start="10"><li>本地修改发布命令</li></ol> <p>10.1 新建deploy.sh文件</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">HOST</span><span class="token operator">=</span>xx

<span class="token function">rsync</span> <span class="token parameter variable">-avzp</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;ssh&quot;</span> ./Internet/ <span class="token variable">$HOST</span>:/root/app
<span class="token function">ssh</span> <span class="token variable">$HOST</span> <span class="token string">&quot;pm2 restart /root/app/http-server.js&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">'deploy success'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>10.2 初始化npm命令</p> <p><code>npm init</code>，新增scripts &quot;deploy&quot;: &quot;./deploy.sh&quot;</p> <p>10.3 发布</p> <p><code>npm run deploy</code></p> <ol start="11"><li>修改http-server的监听host</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'text/plain'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> host<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running at http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="12"><li><p>ECS安全组添加80端口</p></li> <li><p>查看服务器上是否已正常监听80端口  <code>netstat -tpln</code></p></li> <li><p>通过ip+端口访问：39.107.238.161:80</p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/26/2021, 8:12:34 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.9e441e61.js" defer></script><script src="/assets/js/2.36bde0fd.js" defer></script><script src="/assets/js/42.867935ca.js" defer></script><script src="/assets/js/3.5a07e503.js" defer></script>
  </body>
</html>